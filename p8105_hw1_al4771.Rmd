---
title: "p8105_hw1_al4771"
author: "Anqi Li"
date: "2025-09-19"
output: pdf_document
---

```{r}
library(conflicted)
conflicts_prefer(dplyr::filter)
```


```{r}

# Import the 'tidyverse' library
library(tidyverse)

# Import the 'moderndive' library
library(moderndive)

# Load the 'early_january_weather' dataset
data("early_january_weather")
```

**Problem 1**

The variables in this dataset are **`r paste(names(early_january_weather), collapse = ", ")`**.

The dataset **early_january_weather** contains hourly weather data from **January 2013** in **New York City**. The dataset has **`r nrow(early_january_weather)`** rows and and **`r ncol(early_january_weather)`** columns. The average temperature across this dataset is about **`r format(mean(early_january_weather$temp, na.rm = TRUE), digits = 3)`** °F.


```{r}
weather_plot <- ggplot(
  early_january_weather, 
  aes(x = time_hour, 
      y = temp, 
      color = humid)
  ) +
  geom_point(alpha = 0.7) +
  labs(
    title = "Temperature vs Time in Early January",
    x = "Time (hourly)",
    y = "Temperature (°F)",
    color = "Humidity"
  ) +
  theme_minimal()

weather_plot

# Export the scatterplot in PNG form
ggsave("scatterplot_weather.png", 
       plot = weather_plot, 
       width = 6, 
       height = 4)
```

**Problem 2**

```{r}
# For reproducibility
set.seed(123)  

# Create a dataframe
# numeric: random sample
x_num <- rnorm(10)

# logical: indicator whether values > 0
x_logical <- x_num > 0

# character: vector of length 10
x_char <- paste0("lab", 1:10)

# factor: 3 different levels
x_factor <- factor(rep(c("low", "medium", "high"), 
                       length.out = 10))

# combine
df <- tibble(x_num, x_logical, x_char, x_factor)
df

# Take the mean of each variable in my dataframe
mean(pull(df, x_num))
mean(pull(df, x_logical))
mean(pull(df, x_char))   # will fail
mean(pull(df, x_factor)) # will fail

# Convert variables from one type to another
# TRUE/FALSE -> 1/0
as.numeric(df$x_logical) # TRUE/FALSE -> 1/0
as.numeric(df$x_char) # characters -> NA with warning
as.numeric(df$x_factor) # factors -> underlying integer codes

```

The mean works for numeric and logical variables but not for character or factor variables.
This is because only numeric (and logical, due to coercion) are treated as quantitative data.
Characters do not have numeric meaning, and factors are categorical variables whose integer encodings should not be interpreted as numbers.
